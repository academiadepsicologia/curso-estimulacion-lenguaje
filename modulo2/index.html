<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MÃ³dulo 2: TÃ©cnicas PrÃ¡cticas para Padres - EstimulaciÃ³n del Lenguaje</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        .header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .nav-links a:hover {
            opacity: 0.8;
        }

        .main-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 100px 2rem 2rem;
        }

        .progress-section {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .progress-bar {
            background: #e9ecef;
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            height: 100%;
            transition: width 0.5s ease;
        }

        .module-header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .module-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .age-selector {
            background: rgba(255,255,255,0.2);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .age-btn {
            background: white;
            color: #f093fb;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .age-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .age-btn.active {
            background: #f5576c;
            color: white;
        }

        .content-section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .technique-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
        }

        .technique-card h3 {
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .example-box {
            background: rgba(255,255,255,0.95);
            color: #333;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border-left: 4px solid #2196f3;
        }

        .age-specific-examples {
            display: none;
            margin: 1rem 0;
        }

        .age-specific-examples.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .practice-test {
            background: #f0f8ff;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            border: 2px solid #4a90e2;
        }

        .test-question {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
        }

        .test-options {
            display: grid;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .test-option {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .test-option:hover {
            background: #e9ecef;
            border-color: #4a90e2;
        }

        .test-option.selected {
            background: #d1ecf1;
            border-color: #0c5460;
        }

        .test-option.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .test-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .feedback-box {
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            display: none;
        }

        .feedback-box.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .feedback-correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback-incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 1rem 0.5rem 1rem 0;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffc107 0%, #ffb300 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }

        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .alert-info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }

        .alert-success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .alert-warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }

        .question-game {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            color: white;
        }

        .question-scenario {
            background: white;
            color: #333;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border-left: 4px solid #4facfe;
        }

        .question-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            margin: 1rem 0;
        }

        .achievement-badge {
            display: inline-block;
            background: #ffd700;
            color: #333;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            margin: 0.5rem;
            font-weight: 600;
            opacity: 0.3;
            transition: all 0.3s ease;
        }

        .achievement-badge.unlocked {
            opacity: 1;
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .resource-box {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border: 2px solid #dee2e6;
        }

        .resource-content {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }

        .module-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .module-header h1 {
                font-size: 2rem;
            }
            
            .age-selector {
                flex-direction: column;
            }
            
            .module-navigation {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <div class="logo">ğŸ¯ MÃ³dulo 2: TÃ©cnicas PrÃ¡cticas</div>
            <div class="nav-links">
                <a href="../index.html">â† Dashboard</a>
                <a href="../modulo1/index.html">MÃ³dulo 1</a>
                <a href="#" onclick="showProgress()">Mi Progreso</a>
                <a href="#" onclick="logout()">Salir</a>
            </div>
        </div>
    </header>

    <div class="main-content">
        <div class="progress-section">
            <h3>Tu Progreso en el MÃ³dulo 2</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
            <p><span id="progressText">0% completado</span> â€¢ <span id="completedSections">0 de 6 secciones</span></p>
            <div id="achievementsList" style="margin-top: 1rem;">
                <span class="achievement-badge" id="badge1">ğŸ¯ Primera TÃ©cnica</span>
                <span class="achievement-badge" id="badge2">ğŸ’ª 3 TÃ©cnicas</span>
                <span class="achievement-badge" id="badge3">ğŸŒŸ Todas las TÃ©cnicas</span>
                <span class="achievement-badge" id="badge4">ğŸ† MÃ³dulo Completo</span>
            </div>
        </div>

        <div class="module-header">
            <h1>ğŸ¯ TÃ©cnicas PrÃ¡cticas para Padres</h1>
            <p>Aprende exactamente quÃ© decir y hacer para estimular el lenguaje de tu hijo</p>
            
            <div class="age-selector">
                <p style="width: 100%; text-align: center; margin-bottom: 0.5rem;">Selecciona la edad de tu hijo:</p>
                <button class="age-btn" onclick="selectAge(3)">3 aÃ±os</button>
                <button class="age-btn" onclick="selectAge(4)">4 aÃ±os</button>
                <button class="age-btn" onclick="selectAge(5)">5 aÃ±os</button>
            </div>
            <p id="ageMessage" style="margin-top: 1rem; display: none;">
                Los ejemplos y actividades se adaptarÃ¡n para <span id="selectedAge"></span> aÃ±os
            </p>
        </div>

        <!-- SecciÃ³n 1: TÃ©cnica del Modelado -->
        <div class="content-section" data-section="1">
            <h2 class="section-title">
                <span>ğŸ—£ï¸</span>
                TÃ©cnica 1: MODELADO - Corrige sin Corregir
            </h2>
            
            <div class="alert alert-info">
                <strong>ğŸ’¡ Â¿QuÃ© es?</strong> Cuando tu hijo dice algo incorrectamente, tÃº lo repites de forma correcta SIN decirle que estÃ¡ mal. Tu hijo aprende escuchÃ¡ndote sin sentirse criticado.
            </div>

            <div class="technique-card">
                <h3>ğŸ“š CÃ³mo Aplicar el Modelado</h3>
                <p>La clave estÃ¡ en repetir lo que dice tu hijo pero correctamente, de forma natural, como si estuvieras confirmando lo que dice.</p>
                
                <!-- Ejemplos por edad para 3 aÃ±os -->
                <div class="age-specific-examples" id="modelado-age-3">
                    <h4>ğŸ‘¶ Ejemplos para 3 aÃ±os:</h4>
                    <div class="example-box">
                        <strong>SituaciÃ³n 1 - Comida:</strong><br>
                        ğŸ‘¶ NiÃ±o: "Yo quelo agua"<br>
                        ğŸ‘© TÃº: "Ah, tÃº quieres agua. AquÃ­ estÃ¡ el agua frÃ­a."<br><br>
                        
                        <strong>SituaciÃ³n 2 - Juguetes:</strong><br>
                        ğŸ‘¶ NiÃ±o: "Mi oche oto"<br>
                        ğŸ‘© TÃº: "SÃ­, tu coche estÃ¡ roto. Vamos a arreglar el coche."<br><br>
                        
                        <strong>SituaciÃ³n 3 - Mascotas:</strong><br>
                        ğŸ‘¶ NiÃ±o: "Pego gatito"<br>
                        ğŸ‘© TÃº: "El perro y el gatito estÃ¡n jugando juntos."
                    </div>
                </div>

                <!-- Ejemplos por edad para 4 aÃ±os -->
                <div class="age-specific-examples" id="modelado-age-4">
                    <h4>ğŸ‘¦ Ejemplos para 4 aÃ±os:</h4>
                    <div class="example-box">
                        <strong>SituaciÃ³n 1 - Contando experiencias:</strong><br>
                        ğŸ‘¦ NiÃ±o: "Yo jugÃ© con Maria en parque"<br>
                        ğŸ‘© TÃº: "Â¡QuÃ© bien! TÃº jugaste con MarÃ­a en el parque."<br><br>
                        
                        <strong>SituaciÃ³n 2 - Expresando deseos:</strong><br>
                        ğŸ‘¦ NiÃ±o: "No cabo aquÃ­"<br>
                        ğŸ‘© TÃº: "No cabes aquÃ­. Busquemos un espacio mÃ¡s grande."<br><br>
                        
                        <strong>SituaciÃ³n 3 - Describiendo:</strong><br>
                        ğŸ‘¦ NiÃ±o: "La mariposa voliÃ³ lejos"<br>
                        ğŸ‘© TÃº: "SÃ­, la mariposa volÃ³ muy lejos."
                    </div>
                </div>

                <!-- Ejemplos por edad para 5 aÃ±os -->
                <div class="age-specific-examples" id="modelado-age-5">
                    <h4>ğŸ‘§ Ejemplos para 5 aÃ±os:</h4>
                    <div class="example-box">
                        <strong>SituaciÃ³n 1 - Narrando historias:</strong><br>
                        ğŸ‘§ NiÃ±o: "Ayer fuimos al zoolÃ³gico y vimos muchos animales"<br>
                        ğŸ‘© TÃº: "Â¡QuÃ© emocionante! Ayer fueron al zoolÃ³gico y vieron muchos animales."<br><br>
                        
                        <strong>SituaciÃ³n 2 - Explicando:</strong><br>
                        ğŸ‘§ NiÃ±o: "Se rompiÃ³ porque lo tirÃ© sin querer"<br>
                        ğŸ‘© TÃº: "Se rompiÃ³ porque lo tiraste sin querer. Fue un accidente."<br><br>
                        
                        <strong>SituaciÃ³n 3 - Preguntando:</strong><br>
                        ğŸ‘§ NiÃ±o: "Â¿Por quÃ© el sol estÃ¡ caliente?"<br>
                        ğŸ‘© TÃº: "El sol estÃ¡ caliente porque es una estrella gigante de fuego."
                    </div>
                </div>
            </div>

            <!-- Test Interactivo de Modelado CORREGIDO -->
            <div class="practice-test">
                <h3>ğŸ® Practica el Modelado - Test Interactivo</h3>
                <p>Completa los ejercicios para dominar la tÃ©cnica:</p>
                <div id="modelado-progress" class="alert alert-info" style="margin: 1rem 0;">
                    Pregunta <span id="current-question">1</span> de <span id="total-questions">3</span>
                </div>
                
                <!-- Test para edad 3 -->
                <div class="test-question" id="modelado-test-age-3" style="display: none;">
                    <div id="question-3-1" class="question-content">
                        <p><strong>Tu hijo de 3 aÃ±os dice: "Mi tete"</strong></p>
                        <p>Â¿CuÃ¡l es la mejor respuesta usando modelado?</p>
                        <div class="test-options">
                            <div class="test-option" onclick="checkModeladoAnswer(3, 1, 'a', this)">
                                a) "No se dice tete, se dice leche"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(3, 1, 'b', this)">
                                b) "Â¿Quieres tu leche? AquÃ­ estÃ¡ tu leche"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(3, 1, 'c', this)">
                                c) "Tete, tete, tete"
                            </div>
                        </div>
                    </div>
                    
                    <div id="question-3-2" class="question-content" style="display: none;">
                        <p><strong>Tu hijo dice: "Ota vez"</strong></p>
                        <p>Â¿CuÃ¡l es la mejor respuesta usando modelado?</p>
                        <div class="test-options">
                            <div class="test-option" onclick="checkModeladoAnswer(3, 2, 'a', this)">
                                a) "Se dice otra vez, no ota"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(3, 2, 'b', this)">
                                b) "Â¿Quieres hacerlo otra vez? Vamos otra vez"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(3, 2, 'c', this)">
                                c) "Repite: otra vez"
                            </div>
                        </div>
                    </div>
                    
                    <div id="question-3-3" class="question-content" style="display: none;">
                        <p><strong>Tu hijo dice: "Yo solo puedo"</strong></p>
                        <p>Â¿CuÃ¡l es la mejor respuesta usando modelado?</p>
                        <div class="test-options">
                            <div class="test-option" onclick="checkModeladoAnswer(3, 3, 'a', this)">
                                a) "Â¡Muy bien! TÃº puedes solo, eres muy capaz"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(3, 3, 'b', this)">
                                b) "No es 'yo solo puedo', es 'yo puedo solo'"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(3, 3, 'c', this)">
                                c) "Di: yo puedo hacerlo solo"
                            </div>
                        </div>
                    </div>
                    <div class="feedback-box" id="modelado-feedback-3"></div>
                </div>

                <!-- Test para edad 4 -->
                <div class="test-question" id="modelado-test-age-4" style="display: none;">
                    <div id="question-4-1" class="question-content">
                        <p><strong>Tu hijo de 4 aÃ±os dice: "Yo sabo nadar"</strong></p>
                        <p>Â¿CuÃ¡l es la mejor respuesta usando modelado?</p>
                        <div class="test-options">
                            <div class="test-option" onclick="checkModeladoAnswer(4, 1, 'a', this)">
                                a) "Â¡QuÃ© bien! TÃº sabes nadar muy bien"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(4, 1, 'b', this)">
                                b) "No es sabo, es sÃ©"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(4, 1, 'c', this)">
                                c) "Repite: yo sÃ© nadar"
                            </div>
                        </div>
                    </div>
                    
                    <div id="question-4-2" class="question-content" style="display: none;">
                        <p><strong>Tu hijo dice: "Se me ha rompido"</strong></p>
                        <p>Â¿CuÃ¡l es la mejor respuesta usando modelado?</p>
                        <div class="test-options">
                            <div class="test-option" onclick="checkModeladoAnswer(4, 2, 'a', this)">
                                a) "No es 'se me ha rompido', es 'se me rompiÃ³'"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(4, 2, 'b', this)">
                                b) "Oh, se te rompiÃ³. Â¿QuÃ© se te rompiÃ³?"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(4, 2, 'c', this)">
                                c) "Mal dicho"
                            </div>
                        </div>
                    </div>
                    
                    <div id="question-4-3" class="question-content" style="display: none;">
                        <p><strong>Tu hijo dice: "Yo no cabo aquÃ­"</strong></p>
                        <p>Â¿CuÃ¡l es la mejor respuesta usando modelado?</p>
                        <div class="test-options">
                            <div class="test-option" onclick="checkModeladoAnswer(4, 3, 'a', this)">
                                a) "Es quepo, no cabo"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(4, 3, 'b', this)">
                                b) "No cabes aquÃ­. Busquemos un lugar mÃ¡s grande donde sÃ­ quepas"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(4, 3, 'c', this)">
                                c) "Di correctamente: no quepo"
                            </div>
                        </div>
                    </div>
                    <div class="feedback-box" id="modelado-feedback-4"></div>
                </div>

                <!-- Test para edad 5 -->
                <div class="test-question" id="modelado-test-age-5" style="display: none;">
                    <div id="question-5-1" class="question-content">
                        <p><strong>Tu hijo de 5 aÃ±os dice: "Ayer comÃ­ mucho dulces"</strong></p>
                        <p>Â¿CuÃ¡l es la mejor respuesta usando modelado?</p>
                        <div class="test-options">
                            <div class="test-option" onclick="checkModeladoAnswer(5, 1, 'a', this)">
                                a) "Se dice muchos dulces, no mucho dulces"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(5, 1, 'b', this)">
                                b) "Â¿Ayer comiste muchos dulces? Â¿CuÃ¡les te gustaron mÃ¡s?"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(5, 1, 'c', this)">
                                c) "Mal dicho"
                            </div>
                        </div>
                    </div>
                    
                    <div id="question-5-2" class="question-content" style="display: none;">
                        <p><strong>Tu hijo dice: "Hubieron muchos niÃ±os"</strong></p>
                        <p>Â¿CuÃ¡l es la mejor respuesta usando modelado?</p>
                        <div class="test-options">
                            <div class="test-option" onclick="checkModeladoAnswer(5, 2, 'a', this)">
                                a) "HabÃ­a muchos niÃ±os en el parque, Â¿verdad?"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(5, 2, 'b', this)">
                                b) "No es hubieron, es hubo"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(5, 2, 'c', this)">
                                c) "Repite bien: hubo muchos niÃ±os"
                            </div>
                        </div>
                    </div>
                    
                    <div id="question-5-3" class="question-content" style="display: none;">
                        <p><strong>Tu hijo dice: "Me dijistes que sÃ­"</strong></p>
                        <p>Â¿CuÃ¡l es la mejor respuesta usando modelado?</p>
                        <div class="test-options">
                            <div class="test-option" onclick="checkModeladoAnswer(5, 3, 'a', this)">
                                a) "No se dice dijistes"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(5, 3, 'b', this)">
                                b) "SÃ­, te dije que sÃ­ podÃ­as hacerlo"
                            </div>
                            <div class="test-option" onclick="checkModeladoAnswer(5, 3, 'c', this)">
                                c) "Es dijiste, no dijistes"
                            </div>
                        </div>
                    </div>
                    <div class="feedback-box" id="modelado-feedback-5"></div>
                </div>

                <!-- Botones de control del test CORREGIDO -->
                <div style="text-align: center; margin-top: 2rem;">
                    <button class="btn btn-warning" onclick="nextModeladoQuestion()" id="nextQuestionBtn" disabled>
                        Siguiente Pregunta â†’
                    </button>
                    <button class="btn btn-danger" onclick="resetModeladoTest()" id="resetTestBtn" style="display: none;">
                        ğŸ”„ Reiniciar Test
                    </button>
                </div>
            </div>

            <button class="btn btn-success" onclick="completeSection(1)">âœ“ He Dominado el Modelado</button>
        </div>

        <!-- SecciÃ³n 2: ExpansiÃ³n del Lenguaje -->
        <div class="content-section" data-section="2">
            <h2 class="section-title">
                <span>ğŸ“ˆ</span>
                TÃ©cnica 2: EXPANSIÃ“N - Agregar MÃ¡s InformaciÃ³n
            </h2>
            
            <div class="alert alert-info">
                <strong>ğŸ’¡ Â¿QuÃ© es?</strong> Cuando tu hijo dice algo simple, tÃº agregas mÃ¡s palabras para hacer la oraciÃ³n mÃ¡s completa. Es como construir sobre lo que dice, agregando detalles importantes.
            </div>

            <div class="technique-card">
                <h3>ğŸ“š CÃ³mo Aplicar la ExpansiÃ³n</h3>
                <p>Toma lo que dice tu hijo y agrÃ©gale informaciÃ³n relevante: colores, tamaÃ±os, acciones, lugares, emociones.</p>
                
                <!-- Ejemplos por edad para 3 aÃ±os -->
                <div class="age-specific-examples" id="expansion-age-3">
                    <h4>ğŸ‘¶ Para 3 aÃ±os - ExpansiÃ³n Simple (agregar 2-3 palabras):</h4>
                    <div class="example-box">
                        <strong>Ejemplo 1 - Objetos:</strong><br>
                        ğŸ‘¶ NiÃ±o: "Pelota"<br>
                        ğŸ‘© TÃº: "SÃ­, la pelota roja grande"<br>
                        ğŸ’¡ Agregaste: color y tamaÃ±o<br><br>
                        
                        <strong>Ejemplo 2 - Acciones:</strong><br>
                        ğŸ‘¶ NiÃ±o: "PapÃ¡ fue"<br>
                        ğŸ‘© TÃº: "PapÃ¡ fue al trabajo en su carro"<br>
                        ğŸ’¡ Agregaste: lugar y medio de transporte<br><br>
                        
                        <strong>Ejemplo 3 - Comida:</strong><br>
                        ğŸ‘¶ NiÃ±o: "Quiero pan"<br>
                        ğŸ‘© TÃº: "Quieres pan tostado con mantequilla"<br>
                        ğŸ’¡ Agregaste: caracterÃ­stica y acompaÃ±amiento
                    </div>
                </div>

                <!-- Ejemplos por edad para 4 aÃ±os -->
                <div class="age-specific-examples" id="expansion-age-4">
                    <h4>ğŸ‘¦ Para 4 aÃ±os - ExpansiÃ³n Media (agregar 3-5 palabras):</h4>
                    <div class="example-box">
                        <strong>Ejemplo 1 - Describiendo:</strong><br>
                        ğŸ‘¦ NiÃ±o: "El perro corre"<br>
                        ğŸ‘© TÃº: "El perro cafÃ© corre muy rÃ¡pido en el jardÃ­n"<br>
                        ğŸ’¡ Agregaste: color, manera y lugar<br><br>
                        
                        <strong>Ejemplo 2 - Sentimientos:</strong><br>
                        ğŸ‘¦ NiÃ±o: "Estoy triste"<br>
                        ğŸ‘© TÃº: "EstÃ¡s triste porque se rompiÃ³ tu juguete favorito"<br>
                        ğŸ’¡ Agregaste: causa y especificaciÃ³n<br><br>
                        
                        <strong>Ejemplo 3 - Actividades:</strong><br>
                        ğŸ‘¦ NiÃ±o: "Vamos a jugar"<br>
                        ğŸ‘© TÃº: "Vamos a jugar con los bloques para construir una torre alta"<br>
                        ğŸ’¡ Agregaste: con quÃ© y para quÃ©
                    </div>
                </div>

                <!-- Ejemplos por edad para 5 aÃ±os -->
                <div class="age-specific-examples" id="expansion-age-5">
                    <h4>ğŸ‘§ Para 5 aÃ±os - ExpansiÃ³n Compleja (agregar contexto y detalles):</h4>
                    <div class="example-box">
                        <strong>Ejemplo 1 - Narraciones:</strong><br>
                        ğŸ‘§ NiÃ±o: "Vi un pÃ¡jaro en el Ã¡rbol"<br>
                        ğŸ‘© TÃº: "Viste un pÃ¡jaro azul cantando en el Ã¡rbol del parque esta maÃ±ana"<br>
                        ğŸ’¡ Agregaste: color, acciÃ³n, lugar especÃ­fico y tiempo<br><br>
                        
                        <strong>Ejemplo 2 - Explicaciones:</strong><br>
                        ğŸ‘§ NiÃ±o: "Mi amigo llorÃ³"<br>
                        ğŸ‘© TÃº: "Tu amigo Pedro llorÃ³ porque se cayÃ³ del columpio y se lastimÃ³ la rodilla"<br>
                        ğŸ’¡ Agregaste: quiÃ©n, por quÃ© y consecuencia<br><br>
                        
                        <strong>Ejemplo 3 - Planes:</strong><br>
                        ğŸ‘§ NiÃ±o: "MaÃ±ana vamos a la playa"<br>
                        ğŸ‘© TÃº: "MaÃ±ana temprano vamos a la playa con los abuelos para nadar y hacer castillos de arena"<br>
                        ğŸ’¡ Agregaste: cuÃ¡ndo, con quiÃ©n y actividades especÃ­ficas
                    </div>
                </div>
            </div>

            <button class="btn btn-success" onclick="completeSection(2)">âœ“ He Dominado la ExpansiÃ³n</button>
        </div>
        <!-- SecciÃ³n 3: Preguntas Abiertas CON JUEGO INTERACTIVO -->
        <div class="content-section" data-section="3">
            <h2 class="section-title">
                <span>â“</span>
                TÃ©cnica 3: PREGUNTAS ABIERTAS - Estimular el Pensamiento
            </h2>
            
            <div class="alert alert-info">
                <strong>ğŸ’¡ Â¿QuÃ© es?</strong> En lugar de preguntas de SÃ/NO, haces preguntas que requieren que tu hijo piense y use mÃ¡s palabras para responder.
            </div>

            <div class="technique-card">
                <h3>ğŸ“š Tipos de Preguntas por Edad</h3>
                
                <!-- Preguntas para 3 aÃ±os -->
                <div class="age-specific-examples" id="preguntas-age-3">
                    <h4>ğŸ‘¶ Preguntas para 3 aÃ±os (Simples y Concretas):</h4>
                    <div class="example-box">
                        <strong>Durante el juego:</strong><br>
                        âŒ NO: "Â¿Te gusta este juguete?"<br>
                        âœ… SÃ: "Â¿QuÃ© estÃ¡s haciendo con el juguete?"<br><br>
                        
                        <strong>Durante la comida:</strong><br>
                        âŒ NO: "Â¿EstÃ¡ rica la sopa?"<br>
                        âœ… SÃ: "Â¿QuÃ© tiene la sopa?"<br><br>
                        
                        <strong>Viendo un libro:</strong><br>
                        âŒ NO: "Â¿Ves el perro?"<br>
                        âœ… SÃ: "Â¿QuÃ© estÃ¡ haciendo el perro?"<br><br>
                        
                        <strong>MÃ¡s ejemplos Ãºtiles:</strong><br>
                        â€¢ "Â¿DÃ³nde estÃ¡...?"<br>
                        â€¢ "Â¿QuÃ© color es...?"<br>
                        â€¢ "Â¿QuiÃ©n es...?"
                    </div>
                </div>

                <!-- Preguntas para 4 aÃ±os -->
                <div class="age-specific-examples" id="preguntas-age-4">
                    <h4>ğŸ‘¦ Preguntas para 4 aÃ±os (Descriptivas y de Proceso):</h4>
                    <div class="example-box">
                        <strong>Sobre experiencias:</strong><br>
                        âŒ NO: "Â¿Te divertiste en el parque?"<br>
                        âœ… SÃ: "Â¿QuÃ© hiciste en el parque?"<br><br>
                        
                        <strong>Sobre preferencias:</strong><br>
                        âŒ NO: "Â¿Te gusta este cuento?"<br>
                        âœ… SÃ: "Â¿CuÃ¡l es tu parte favorita del cuento?"<br><br>
                        
                        <strong>Sobre problemas:</strong><br>
                        âŒ NO: "Â¿EstÃ¡ roto?"<br>
                        âœ… SÃ: "Â¿CÃ³mo podemos arreglarlo?"<br><br>
                        
                        <strong>MÃ¡s ejemplos Ãºtiles:</strong><br>
                        â€¢ "Â¿CÃ³mo se hace...?"<br>
                        â€¢ "Â¿Para quÃ© sirve...?"<br>
                        â€¢ "Â¿QuÃ© pasÃ³ cuando...?"
                    </div>
                </div>

                <!-- Preguntas para 5 aÃ±os -->
                <div class="age-specific-examples" id="preguntas-age-5">
                    <h4>ğŸ‘§ Preguntas para 5 aÃ±os (Razonamiento y PredicciÃ³n):</h4>
                    <div class="example-box">
                        <strong>Sobre causas:</strong><br>
                        âŒ NO: "Â¿EstÃ¡ llorando el bebÃ©?"<br>
                        âœ… SÃ: "Â¿Por quÃ© crees que llora el bebÃ©?"<br><br>
                        
                        <strong>Sobre predicciones:</strong><br>
                        âŒ NO: "Â¿Va a llover?"<br>
                        âœ… SÃ: "Â¿QuÃ© pasarÃ¡ si llueve?"<br><br>
                        
                        <strong>Sobre soluciones:</strong><br>
                        âŒ NO: "Â¿Quieres ayuda?"<br>
                        âœ… SÃ: "Â¿CÃ³mo crees que podrÃ­amos resolver esto?"<br><br>
                        
                        <strong>MÃ¡s ejemplos Ãºtiles:</strong><br>
                        â€¢ "Â¿Por quÃ© piensas que...?"<br>
                        â€¢ "Â¿QuÃ© pasarÃ­a si...?"<br>
                        â€¢ "Â¿CÃ³mo te sentirÃ­as si...?"
                    </div>
                </div>
            </div>

            <!-- NUEVO: Juego Interactivo de Preguntas Abiertas -->
            <div class="question-game">
                <h3>ğŸ¯ Juego: "Maestro de Preguntas"</h3>
                <p>Practica convirtiendo preguntas cerradas en abiertas segÃºn la edad de tu hijo:</p>
                
                <div id="question-scenarios" style="display: none;">
                    <div class="question-scenario" id="current-scenario">
                        <h4 id="scenario-title">Escenario 1</h4>
                        <p><strong>SituaciÃ³n:</strong> <span id="scenario-context"></span></p>
                        <p><strong>Pregunta CERRADA:</strong> "<span id="closed-question"></span>"</p>
                        <p><strong>Tu tarea:</strong> Convierte esta pregunta en una ABIERTA para un niÃ±o de <span id="scenario-age"></span> aÃ±os.</p>
                        
                        <textarea id="open-question-input" rows="2" class="question-input" 
                            placeholder="Escribe aquÃ­ tu pregunta abierta..."></textarea>
                        
                        <div style="text-align: center;">
                            <button class="btn btn-warning" onclick="checkOpenQuestion()">âœ“ Verificar Pregunta</button>
                            <button class="btn" onclick="nextQuestionScenario()">Siguiente Escenario â†’</button>
                        </div>
                        
                        <div class="feedback-box" id="question-feedback"></div>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="startQuestionGame()" id="startQuestionGame">
                        ğŸ® Comenzar Juego de Preguntas
                    </button>
                </div>
            </div>

            <button class="btn btn-success" onclick="completeSection(3)">âœ“ He Dominado las Preguntas Abiertas</button>
        </div>

        <!-- SecciÃ³n 4: Habla Paralela y NarraciÃ³n -->
        <div class="content-section" data-section="4">
            <h2 class="section-title">
                <span>ğŸ­</span>
                TÃ©cnica 4: NARRACIÃ“N - Hablar Mientras Hacen
            </h2>
            
            <div class="alert alert-info">
                <strong>ğŸ’¡ Â¿QuÃ© es?</strong> Narras en voz alta lo que tÃº haces (auto-conversaciÃ³n) o lo que hace tu hijo (habla paralela). Es como ser un narrador deportivo de la vida diaria.
            </div>

            <button class="btn btn-success" onclick="completeSection(4)">âœ“ He Dominado la NarraciÃ³n</button>
        </div>

        <!-- SecciÃ³n 5: AplicaciÃ³n por Situaciones Diarias -->
        <div class="content-section" data-section="5">
            <h2 class="section-title">
                <span>ğŸ </span>
                Aplicando las TÃ©cnicas en la Vida Diaria
            </h2>

            <p>En esta secciÃ³n aprenderÃ¡s a aplicar todas las tÃ©cnicas en situaciones cotidianas.</p>

            <button class="btn btn-success" onclick="completeSection(5)">âœ“ Practico en la Vida Diaria</button>
        </div>

        <!-- SecciÃ³n 6: Recursos con Canciones CORREGIDAS -->
        <div class="content-section" data-section="6">
            <h2 class="section-title">
                <span>ğŸ“‹</span>
                Tu Plan Personal y Recursos
            </h2>

            <div class="resource-box">
                <h3>ğŸµ Canciones para Estimular el Lenguaje</h3>
                <button class="btn btn-warning" onclick="showSongs()">Ver Canciones por Edad</button>
                <div id="songsResources" style="display: none;">
                    <div class="resource-content">ğŸµ CANCIONES PARA ESTIMULAR EL LENGUAJE

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‘¶ PARA 3 AÃ‘OS - VOCABULARIO BÃSICO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¥ "LOS POLLITOS DICEN"
Objetivo: Sonidos, necesidades, emociones
Vocabulario: pÃ­o, hambre, frÃ­o, abrigo, comida, mamÃ¡

Los pollitos dicen, pÃ­o pÃ­o pÃ­o
Cuando tienen hambre, cuando tienen frÃ­o
La gallina busca el maÃ­z y el trigo
Les da la comida y les presta abrigo

ACTIVIDAD: Pregunta "Â¿CÃ³mo hacen los pollitos?"
"Â¿QuÃ© necesitan cuando dicen pÃ­o?"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ§¼ "PIN PON ES UN MUÃ‘ECO"
Objetivo: Rutinas diarias, partes del cuerpo
Vocabulario: cara, limpia, jabÃ³n, peine, manos

Pin Pon es un muÃ±eco muy guapo de cartÃ³n
Se lava la carita con agua y con jabÃ³n
Se desenreda el pelo con peine de marfil
Y aunque se dÃ© tirones no llora ni hace asÃ­

ACTIVIDAD: Mientras cantan, toquen cada parte
"Â¿DÃ³nde estÃ¡ tu cara?" "Â¿Con quÃ© te lavas?"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‘¦ PARA 4 AÃ‘OS - FRASES Y SECUENCIAS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ„ "LA VACA LECHERA"
Objetivo: Rimas, descripciÃ³n, cualidades
Vocabulario: vaca, lechera, tolÃ³n, campana, leche

Tengo una vaca lechera, no es una vaca cualquiera
Me da leche merengada, ay que vaca tan salada
TolÃ³n tolÃ³n, tolÃ³n tolÃ³n

ACTIVIDAD: "Â¿CÃ³mo es tu vaca?" 
"Â¿QuÃ© otras cosas puede darnos una vaca?"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‘§ PARA 5 AÃ‘OS - NARRATIVA Y MEMORIA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ­ "DEBAJO DE UN BOTÃ“N"
Objetivo: Memoria, secuencia, tamaÃ±os
Vocabulario: botÃ³n, ratÃ³n, MartÃ­n, chiquitÃ­n

Debajo de un botÃ³n, ton ton
Que encontrÃ³ MartÃ­n, tin tin
HabÃ­a un ratÃ³n, ton ton
Muy muy chiquitÃ­n, tin tin

ACTIVIDAD: Memorizar y cambiar palabras
"Â¿QuÃ© habÃ­a debajo del botÃ³n?"
"Inventa: Debajo de una mesa..."

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ TIPS PARA USAR LAS CANCIONES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. CANTA DESPACIO al principio
2. HAZ GESTOS para cada palabra importante
3. PARA en palabras clave y deja que complete
4. CAMBIA palabras para hacerlo divertido
5. REPITE la favorita (la repeticiÃ³n es clave)</div>
                </div>
            </div>

            <button class="btn btn-success" onclick="completeSection(6)">âœ“ Tengo Mi Plan Personal</button>
        </div>

        <!-- Navigation -->
        <div class="module-navigation">
            <a href="../modulo1/index.html" class="btn btn-secondary">â† MÃ³dulo 1</a>
            <div>
                <button class="btn" onclick="generateCertificate()" id="certificateBtn" style="display: none;">ğŸ† Certificado</button>
                <a href="../modulo3/index.html" class="btn" id="nextModuleBtn" style="display: none;">MÃ³dulo 3 â†’</a>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let completedSections = new Set();
        let totalSections = 6;
        let selectedAge = null;
        let currentModeladoQuestion = 1;
        let modeladoQuestionsAnswered = new Set();
        let answerSelected = false;
        let currentQuestionScenario = 0;
        let questionScenariosAnswered = 0;

        // Respuestas correctas para modelado
        const modeladoCorrectAnswers = {
            '3-1': 'b', '3-2': 'b', '3-3': 'a',
            '4-1': 'a', '4-2': 'b', '4-3': 'b',
            '5-1': 'b', '5-2': 'a', '5-3': 'b'
        };

        // Escenarios para juego de preguntas por edad
        const questionScenarios = {
            3: [
                {
                    context: "Tu hijo estÃ¡ jugando con bloques",
                    closedQuestion: "Â¿Te gusta el juguete?",
                    openExamples: ["Â¿QuÃ© estÃ¡s construyendo?", "Â¿QuÃ© color tiene el bloque?", "Â¿DÃ³nde vas a poner este bloque?"]
                },
                {
                    context: "EstÃ¡n comiendo juntos",
                    closedQuestion: "Â¿EstÃ¡ rica la comida?",
                    openExamples: ["Â¿QuÃ© sabor tiene?", "Â¿QuÃ© hay en tu plato?", "Â¿CuÃ¡l quieres comer primero?"]
                },
                {
                    context: "Viendo un libro de animales",
                    closedQuestion: "Â¿Ves el gato?",
                    openExamples: ["Â¿QuÃ© estÃ¡ haciendo el gato?", "Â¿DÃ³nde estÃ¡ el gato?", "Â¿QuÃ© sonido hace el gato?"]
                }
            ],
            4: [
                {
                    context: "Acaban de regresar del parque",
                    closedQuestion: "Â¿Te divertiste en el parque?",
                    openExamples: ["Â¿QuÃ© hiciste en el parque?", "Â¿CuÃ¡l fue tu juego favorito?", "Â¿Con quiÃ©n jugaste?"]
                },
                {
                    context: "EstÃ¡n leyendo un cuento",
                    closedQuestion: "Â¿Te gusta el cuento?",
                    openExamples: ["Â¿QuÃ© estÃ¡ pasando en la historia?", "Â¿CÃ³mo crees que se siente el personaje?", "Â¿QuÃ© crees que va a pasar despuÃ©s?"]
                },
                {
                    context: "Preparando una receta simple",
                    closedQuestion: "Â¿Quieres ayudar?",
                    openExamples: ["Â¿CÃ³mo podemos mezclar esto?", "Â¿QuÃ© ingrediente falta?", "Â¿Para quÃ© sirve este utensilio?"]
                }
            ],
            5: [
                {
                    context: "Tu hijo vio una pelÃ­cula",
                    closedQuestion: "Â¿Te gustÃ³ la pelÃ­cula?",
                    openExamples: ["Â¿CuÃ¡l fue tu parte favorita?", "Â¿Por quÃ© crees que el personaje hizo eso?", "Â¿QuÃ© habrÃ­as hecho tÃº en su lugar?"]
                },
                {
                    context: "EstÃ¡n observando el clima",
                    closedQuestion: "Â¿Va a llover?",
                    openExamples: ["Â¿QuÃ© crees que pasarÃ¡ si llueve?", "Â¿Por quÃ© estÃ¡n grises las nubes?", "Â¿CÃ³mo podemos prepararnos para la lluvia?"]
                },
                {
                    context: "Resolviendo un problema juntos",
                    closedQuestion: "Â¿EstÃ¡ difÃ­cil?",
                    openExamples: ["Â¿QuÃ© estrategia podrÃ­amos usar?", "Â¿Por quÃ© crees que no funciona?", "Â¿CÃ³mo te sientes cuando algo es desafiante?"]
                }
            ]
        };

        // InicializaciÃ³n cuando carga la pÃ¡gina
        window.addEventListener('DOMContentLoaded', function() {
            loadSavedProgress();
            updateQuestionCounter();
        });

        // SelecciÃ³n de edad
        function selectAge(age) {
            selectedAge = age;
            
            document.querySelectorAll('.age-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            const ageMessage = document.getElementById('ageMessage');
            if (ageMessage) {
                ageMessage.style.display = 'block';
                const selectedAgeSpan = document.getElementById('selectedAge');
                if (selectedAgeSpan) {
                    selectedAgeSpan.textContent = age;
                }
            }
            
            updateAgeContent();
            localStorage.setItem('module2SelectedAge', age);
            showNotification(`âœ… Contenido adaptado para ${age} aÃ±os`, 'success');
        }

        // Actualizar contenido segÃºn edad
        function updateAgeContent() {
            if (!selectedAge) return;
            
            document.querySelectorAll('.age-specific-examples').forEach(elem => {
                elem.style.display = 'none';
                elem.classList.remove('active');
            });
            
            const ageElements = document.querySelectorAll(`[id*="-age-${selectedAge}"]`);
            ageElements.forEach(elem => {
                elem.style.display = 'block';
                elem.classList.add('active');
            });
            
            document.querySelectorAll('[id^="modelado-test-age-"]').forEach(elem => {
                elem.style.display = 'none';
            });
            
            const ageTest = document.getElementById(`modelado-test-age-${selectedAge}`);
            if (ageTest) {
                ageTest.style.display = 'block';
                
                for (let i = 1; i <= 3; i++) {
                    const questionDiv = document.getElementById(`question-${selectedAge}-${i}`);
                    if (questionDiv) {
                        questionDiv.style.display = i === 1 ? 'block' : 'none';
                    }
                }
            }
            
            updateQuestionCounter();
        }

        // Verificar respuesta del test de modelado CORREGIDO
        function checkModeladoAnswer(age, questionNum, answer, element) {
            if (!selectedAge) {
                showNotification('âš ï¸ Primero selecciona la edad de tu hijo', 'warning');
                return;
            }
            
            // Marcar como seleccionado y deshabilitar otras opciones
            const allOptions = element.parentElement.querySelectorAll('.test-option');
            allOptions.forEach(opt => {
                opt.style.pointerEvents = 'none';
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            
            const key = `${age}-${questionNum}`;
            const feedbackDiv = document.getElementById(`modelado-feedback-${age}`);
            
            if (!feedbackDiv) return;
            
            modeladoQuestionsAnswered.add(key);
            answerSelected = true;
            
            const isCorrect = answer === modeladoCorrectAnswers[key];
            
            // Habilitar botÃ³n "Siguiente"
            const nextBtn = document.getElementById('nextQuestionBtn');
            if (nextBtn) {
                nextBtn.disabled = false;
            }
            
            feedbackDiv.style.display = 'block';
            feedbackDiv.className = `feedback-box ${isCorrect ? 'feedback-correct' : 'feedback-incorrect'} show`;
            
            if (isCorrect) {
                element.classList.add('correct');
                feedbackDiv.innerHTML = 'âœ… Â¡Correcto! Usaste el modelado perfectamente sin corregir directamente.';
            } else {
                element.classList.add('incorrect');
                let feedback = 'âŒ ';
                if (answer === 'a' && questionNum === 1) {
                    feedback += 'Esta opciÃ³n corrige directamente. Recuerda: modela sin decir "no se dice asÃ­".';
                } else if (answer === 'c') {
                    feedback += 'No repitas el error ni pidas que repita. Modela naturalmente la forma correcta.';
                } else {
                    feedback += 'Intenta otra vez. El modelado repite correctamente de forma natural.';
                }
                feedbackDiv.innerHTML = feedback;
            }
            
            updateQuestionCounter();
        }

        // Siguiente pregunta de modelado CORREGIDO
        function nextModeladoQuestion() {
            if (!selectedAge) {
                showNotification('âš ï¸ Primero selecciona la edad de tu hijo', 'warning');
                return;
            }
            
            if (!answerSelected) {
                showNotification('âš ï¸ Debes seleccionar una respuesta primero', 'warning');
                return;
            }
            
            const currentQuestionDiv = document.getElementById(`question-${selectedAge}-${currentModeladoQuestion}`);
            if (currentQuestionDiv) {
                currentQuestionDiv.style.display = 'none';
            }
            
            currentModeladoQuestion++;
            answerSelected = false;
            
            // Deshabilitar botÃ³n hasta que responda
            const nextBtn = document.getElementById('nextQuestionBtn');
            if (nextBtn) {
                nextBtn.disabled = true;
            }
            
            if (currentModeladoQuestion > 3) {
                const resetBtn = document.getElementById('resetTestBtn');
                const nextBtn = document.getElementById('nextQuestionBtn');
                if (resetBtn) resetBtn.style.display = 'inline-block';
                if (nextBtn) nextBtn.style.display = 'none';
                
                showNotification('âœ… Has completado todas las preguntas', 'success');
                return;
            }
            
            const nextQuestionDiv = document.getElementById(`question-${selectedAge}-${currentModeladoQuestion}`);
            if (nextQuestionDiv) {
                nextQuestionDiv.style.display = 'block';
                // Rehabilitar opciones para nueva pregunta
                const allOptions = nextQuestionDiv.querySelectorAll('.test-option');
                allOptions.forEach(opt => {
                    opt.style.pointerEvents = 'auto';
                    opt.classList.remove('selected', 'correct', 'incorrect');
                });
            }
            
            const feedbackDiv = document.getElementById(`modelado-feedback-${selectedAge}`);
            if (feedbackDiv) {
                feedbackDiv.style.display = 'none';
            }
            
            updateQuestionCounter();
        }

        // Reiniciar test
        function resetModeladoTest() {
            currentModeladoQuestion = 1;
            modeladoQuestionsAnswered.clear();
            answerSelected = false;
            
            // Rehabilitar todas las opciones
            document.querySelectorAll('.test-option').forEach(opt => {
                opt.style.pointerEvents = 'auto';
                opt.classList.remove('selected', 'correct', 'incorrect');
            });
            
            for (let i = 1; i <= 3; i++) {
                const questionDiv = document.getElementById(`question-${selectedAge}-${i}`);
                if (questionDiv) {
                    questionDiv.style.display = i === 1 ? 'block' : 'none';
                }
            }
            
            const feedbackDiv = document.getElementById(`modelado-feedback-${selectedAge}`);
            if (feedbackDiv) {
                feedbackDiv.style.display = 'none';
            }
            
            const resetBtn = document.getElementById('resetTestBtn');
            const nextBtn = document.getElementById('nextQuestionBtn');
            if (resetBtn) resetBtn.style.display = 'none';
            if (nextBtn) {
                nextBtn.style.display = 'inline-block';
                nextBtn.disabled = true;
            }
            
            updateQuestionCounter();
            showNotification('Test reiniciado', 'info');
        }

        // Actualizar contador de preguntas
        function updateQuestionCounter() {
            const currentSpan = document.getElementById('current-question');
            const totalSpan = document.getElementById('total-questions');
            
            if (currentSpan) currentSpan.textContent = currentModeladoQuestion;
            if (totalSpan) totalSpan.textContent = '3';
        }

        // NUEVO: Iniciar juego de preguntas
        function startQuestionGame() {
            if (!selectedAge) {
                showNotification('âš ï¸ Primero selecciona la edad de tu hijo', 'warning');
                return;
            }
            
            currentQuestionScenario = 0;
            questionScenariosAnswered = 0;
            
            document.getElementById('question-scenarios').style.display = 'block';
            document.getElementById('startQuestionGame').style.display = 'none';
            
            loadQuestionScenario();
        }

        // NUEVO: Cargar escenario de pregunta
        function loadQuestionScenario() {
            const scenarios = questionScenarios[selectedAge];
            if (!scenarios || currentQuestionScenario >= scenarios.length) {
                showNotification('ğŸ‰ Â¡Completaste todos los escenarios!', 'success');
                document.getElementById('startQuestionGame').style.display = 'inline-block';
                document.getElementById('question-scenarios').style.display = 'none';
                return;
            }
            
            const scenario = scenarios[currentQuestionScenario];
            
            document.getElementById('scenario-title').textContent = `Escenario ${currentQuestionScenario + 1}`;
            document.getElementById('scenario-context').textContent = scenario.context;
            document.getElementById('closed-question').textContent = scenario.closedQuestion;
            document.getElementById('scenario-age').textContent = selectedAge;
            document.getElementById('open-question-input').value = '';
            
            const feedbackDiv = document.getElementById('question-feedback');
            if (feedbackDiv) {
                feedbackDiv.style.display = 'none';
            }
        }

        // NUEVO: Verificar pregunta abierta
        function checkOpenQuestion() {
            const input = document.getElementById('open-question-input').value.trim();
            if (!input) {
                showNotification('Escribe una pregunta primero', 'warning');
                return;
            }
            
            const scenarios = questionScenarios[selectedAge];
            const scenario = scenarios[currentQuestionScenario];
            const feedbackDiv = document.getElementById('question-feedback');
            
            // Verificar si es una pregunta abierta
            const isOpen = !input.toLowerCase().includes('Â¿sÃ­') && 
                          !input.toLowerCase().includes('Â¿no') &&
                          (input.includes('Â¿quÃ©') || input.includes('Â¿cÃ³mo') || 
                           input.includes('Â¿dÃ³nde') || input.includes('Â¿cuÃ¡l') || 
                           input.includes('Â¿por quÃ©') || input.includes('Â¿cuÃ¡ndo') ||
                           input.includes('Â¿quiÃ©n'));
            
            feedbackDiv.style.display = 'block';
            
            if (isOpen) {
                feedbackDiv.className = 'feedback-box feedback-correct show';
                feedbackDiv.innerHTML = `âœ… Â¡Excelente! Tu pregunta "${input}" es abierta y estimula al niÃ±o a pensar y expresarse mÃ¡s.`;
                questionScenariosAnswered++;
            } else {
                feedbackDiv.className = 'feedback-box feedback-incorrect show';
                feedbackDiv.innerHTML = `âš ï¸ Tu pregunta aÃºn parece cerrada. Intenta usar palabras como "Â¿QuÃ©...?", "Â¿CÃ³mo...?", "Â¿DÃ³nde...?" 
                <br><br><strong>Ejemplos:</strong> ${scenario.openExamples.slice(0, 2).join(' o ')}`;
            }
        }

        // NUEVO: Siguiente escenario de pregunta
        function nextQuestionScenario() {
            currentQuestionScenario++;
            loadQuestionScenario();
        }

        // Mostrar canciones
        function showSongs() {
            const songs = document.getElementById('songsResources');
            if (!songs) return;
            
            const button = event.target;
            
            if (songs.style.display === 'none' || songs.style.display === '') {
                songs.style.display = 'block';
                if (button) button.textContent = 'Ocultar Canciones';
            } else {
                songs.style.display = 'none';
                if (button) button.textContent = 'Ver Canciones por Edad';
            }
        }

        // Completar secciÃ³n
        function completeSection(sectionNumber) {
            if (!selectedAge && sectionNumber !== 6) {
                showNotification('âš ï¸ Primero selecciona la edad de tu hijo', 'warning');
                return;
            }
            
            completedSections.add(sectionNumber);
            updateProgressBar();
            saveProgress();
            
            const section = document.querySelector(`[data-section="${sectionNumber}"]`);
            if (section) {
                section.style.border = '3px solid #28a745';
                section.style.background = 'linear-gradient(to right, #d4edda 0%, white 5%)';
            }
            
            showNotification(`âœ… SecciÃ³n ${sectionNumber} completada`, 'success');
            
            if (completedSections.size === totalSections) {
                completeModule();
            }
        }

        // Actualizar barra de progreso
        function updateProgressBar() {
            const progress = (completedSections.size / totalSections) * 100;
            
            const progressFill = document.getElementById('progressFill');
            const progressText
