<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo 2: Técnicas Prácticas para Padres - Estimulación del Lenguaje</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        .header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .nav-links a:hover {
            opacity: 0.8;
        }

        .main-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 100px 2rem 2rem;
        }

        .progress-section {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .progress-bar {
            background: #e9ecef;
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            height: 100%;
            transition: width 0.5s ease;
        }

        .module-header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .module-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .age-selector {
            background: rgba(255,255,255,0.2);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .age-btn {
            background: white;
            color: #f093fb;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .age-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .age-btn.active {
            background: #f5576c;
            color: white;
        }

        .content-section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .technique-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
        }

        .technique-card h3 {
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .example-box {
            background: rgba(255,255,255,0.95);
            color: #333;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border-left: 4px solid #2196f3;
        }

        .age-specific-examples {
            display: none;
            margin: 1rem 0;
        }

        .age-specific-examples.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .practice-test {
            background: #f0f8ff;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            border: 2px solid #4a90e2;
        }

        .test-question {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
        }

        .test-options {
            display: grid;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .test-option {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .test-option:hover {
            background: #e9ecef;
            border-color: #4a90e2;
        }

        .test-option.selected {
            background: #d1ecf1;
            border-color: #0c5460;
        }

        .test-option.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .test-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .feedback-box {
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            display: none;
        }

        .feedback-box.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .feedback-correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback-incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 1rem 0.5rem 1rem 0;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffc107 0%, #ffb300 100%);
        }

        .situation-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .situation-card:hover {
            border-color: #f093fb;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .situation-card.completed {
            background: #d4edda;
            border-color: #28a745;
        }

        .interactive-game {
            background: linear-gradient(135deg, #ffd93d 0%, #ffb300 100%);
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            color: #333;
        }

        .game-area {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            min-height: 200px;
        }

        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .alert-info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }

        .alert-success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .alert-warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }

        .resource-box {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border: 2px solid #dee2e6;
        }

        .resource-content {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }

        .tabs {
            display: flex;
            background: white;
            border-radius: 10px 10px 0 0;
            overflow: hidden;
            margin-bottom: 0;
        }

        .tab {
            flex: 1;
            padding: 1rem;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .tab-content {
            display: none;
            background: white;
            padding: 2rem;
            border-radius: 0 0 15px 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .tab-content.active {
            display: block;
        }

        .achievement-badge {
            display: inline-block;
            background: #ffd700;
            color: #333;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            margin: 0.5rem;
            font-weight: 600;
            opacity: 0.3;
            transition: all 0.3s ease;
        }

        .achievement-badge.unlocked {
            opacity: 1;
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .module-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .module-header h1 {
                font-size: 2rem;
            }
            
            .age-selector {
                flex-direction: column;
            }
            
            .module-navigation {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <div class="logo">🎯 Módulo 2: Técnicas Prácticas</div>
            <div class="nav-links">
                <a href="../index.html">← Dashboard</a>
                <a href="../modulo1/index.html">Módulo 1</a>
                <a href="#" onclick="showProgress()">Mi Progreso</a>
                <a href="#" onclick="logout()">Salir</a>
            </div>
        </div>
    </header>

    <div class="main-content">
        <div class="progress-section">
            <h3>Tu Progreso en el Módulo 2</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
            <p><span id="progressText">0% completado</span> • <span id="completedSections">0 de 6 secciones</span></p>
            <div id="achievementsList" style="margin-top: 1rem;">
                <span class="achievement-badge" id="badge1">🎯 Primera Técnica</span>
                <span class="achievement-badge" id="badge2">💪 3 Técnicas</span>
                <span class="achievement-badge" id="badge3">🌟 Todas las Técnicas</span>
                <span class="achievement-badge" id="badge4">🏆 Módulo Completo</span>
            </div>
        </div>

        <div class="module-header">
            <h1>🎯 Técnicas Prácticas para Padres</h1>
            <p>Aprende exactamente qué decir y hacer para estimular el lenguaje de tu hijo</p>
            
            <div class="age-selector">
                <p style="width: 100%; text-align: center; margin-bottom: 0.5rem;">Selecciona la edad de tu hijo:</p>
                <button class="age-btn" onclick="selectAge(3)">3 años</button>
                <button class="age-btn" onclick="selectAge(4)">4 años</button>
                <button class="age-btn" onclick="selectAge(5)">5 años</button>
            </div>
            <p id="ageMessage" style="margin-top: 1rem; display: none;">
                Los ejemplos y actividades se adaptarán para <span id="selectedAge"></span> años
            </p>
        </div>

        <!-- Sección 1: Técnica del Modelado -->
        <div class="content-section" data-section="1">
            <h2 class="section-title">
                <span>🗣️</span>
                Técnica 1: MODELADO - Corrige sin Corregir
            </h2>
            
            <div class="alert alert-info">
                <strong>💡 ¿Qué es?</strong> Cuando tu hijo dice algo incorrectamente, tú lo repites de forma correcta SIN decirle que está mal. Tu hijo aprende escuchándote sin sentirse criticado.
            </div>

            <div class="technique-card">
                <h3>📚 Cómo Aplicar el Modelado</h3>
                <p>La clave está en repetir lo que dice tu hijo pero correctamente, de forma natural, como si estuvieras confirmando lo que dice.</p>
                
                <!-- Ejemplos por edad para 3 años -->
                <div class="age-specific-examples" id="modelado-age-3">
                    <h4>👶 Ejemplos para 3 años:</h4>
                    <div class="example-box">
                        <strong>Situación 1 - Comida:</strong><br>
                        👶 Niño: "Yo quelo agua"<br>
                        👩 Tú: "Ah, tú quieres agua. Aquí está el agua fría."<br><br>
                        
                        <strong>Situación 2 - Juguetes:</strong><br>
                        👶 Niño: "Mi oche oto"<br>
                        👩 Tú: "Sí, tu coche está roto. Vamos a arreglar el coche."<br><br>
                        
                        <strong>Situación 3 - Mascotas:</strong><br>
                        👶 Niño: "Pego gatito"<br>
                        👩 Tú: "El perro y el gatito están jugando juntos."
                    </div>
                </div>

                <!-- Ejemplos por edad para 4 años -->
                <div class="age-specific-examples" id="modelado-age-4">
                    <h4>👦 Ejemplos para 4 años:</h4>
                    <div class="example-box">
                        <strong>Situación 1 - Contando experiencias:</strong><br>
                        👦 Niño: "Yo jugé con Maria en parque"<br>
                        👩 Tú: "¡Qué bien! Tú jugaste con María en el parque."<br><br>
                        
                        <strong>Situación 2 - Expresando deseos:</strong><br>
                        👦 Niño: "No cabo aquí"<br>
                        👩 Tú: "No cabes aquí. Busquemos un espacio más grande."<br><br>
                        
                        <strong>Situación 3 - Describiendo:</strong><br>
                        👦 Niño: "La mariposa volió lejos"<br>
                        👩 Tú: "Sí, la mariposa voló muy lejos."
                    </div>
                </div>

                <!-- Ejemplos por edad para 5 años -->
                <div class="age-specific-examples" id="modelado-age-5">
                    <h4>👧 Ejemplos para 5 años:</h4>
                    <div class="example-box">
                        <strong>Situación 1 - Narrando historias:</strong><br>
                        👧 Niño: "Ayer fuimos al zoológico y vimos muchos animales"<br>
                        👩 Tú: "¡Qué emocionante! Ayer fueron al zoológico y vieron muchos animales."<br><br>
                        
                        <strong>Situación 2 - Explicando:</strong><br>
                        👧 Niño: "Se rompió porque lo tiré sin querer"<br>
                        👩 Tú: "Se rompió porque lo tiraste sin querer. Fue un accidente."<br><br>
                        
                        <strong>Situación 3 - Preguntando:</strong><br>
                        👧 Niño: "¿Por qué el sol está caliente?"<br>
                        👩 Tú: "El sol está caliente porque es una estrella gigante de fuego."
                    </div>
                </div>
            </div>

            <!-- Test Interactivo de Modelado -->
            <div class="practice-test">
                <h3>🎮 Practica el Modelado - Test Interactivo</h3>
                <p>Selecciona la mejor respuesta usando la técnica del modelado:</p>
                
                <div class="test-question" id="modelado-test-age-3" style="display: none;">
                    <p><strong>Tu hijo de 3 años dice: "Mi tete"</strong></p>
                    <p>¿Cuál es la mejor respuesta usando modelado?</p>
                    <div class="test-options">
                        <div class="test-option" onclick="checkAnswer('modelado', 1, 'a')">
                            a) "No se dice tete, se dice leche"
                        </div>
                        <div class="test-option" onclick="checkAnswer('modelado', 1, 'b')">
                            b) "¿Quieres tu leche? Aquí está tu leche"
                        </div>
                        <div class="test-option" onclick="checkAnswer('modelado', 1, 'c')">
                            c) "Tete, tete, tete"
                        </div>
                    </div>
                    <div class="feedback-box" id="modelado-feedback-1"></div>
                </div>

                <div class="test-question" id="modelado-test-age-4" style="display: none;">
                    <p><strong>Tu hijo de 4 años dice: "Yo sabo nadar"</strong></p>
                    <p>¿Cuál es la mejor respuesta usando modelado?</p>
                    <div class="test-options">
                        <div class="test-option" onclick="checkAnswer('modelado', 2, 'a')">
                            a) "¡Qué bien! Tú sabes nadar muy bien"
                        </div>
                        <div class="test-option" onclick="checkAnswer('modelado', 2, 'b')">
                            b) "No es sabo, es sé"
                        </div>
                        <div class="test-option" onclick="checkAnswer('modelado', 2, 'c')">
                            c) "Repite: yo sé nadar"
                        </div>
                    </div>
                    <div class="feedback-box" id="modelado-feedback-2"></div>
                </div>

                <div class="test-question" id="modelado-test-age-5" style="display: none;">
                    <p><strong>Tu hijo de 5 años dice: "Ayer comí mucho dulces"</strong></p>
                    <p>¿Cuál es la mejor respuesta usando modelado?</p>
                    <div class="test-options">
                        <div class="test-option" onclick="checkAnswer('modelado', 3, 'a')">
                            a) "Se dice muchos dulces, no mucho dulces"
                        </div>
                        <div class="test-option" onclick="checkAnswer('modelado', 3, 'b')">
                            b) "¿Ayer comiste muchos dulces? ¿Cuáles te gustaron más?"
                        </div>
                        <div class="test-option" onclick="checkAnswer('modelado', 3, 'c')">
                            c) "Mal dicho"
                        </div>
                    </div>
                    <div class="feedback-box" id="modelado-feedback-3"></div>
                </div>

                <button class="btn btn-warning" onclick="nextModeladoQuestion()">Siguiente Pregunta →</button>
            </div>

            <button class="btn btn-success" onclick="completeSection(1)">✓ He Dominado el Modelado</button>
        </div>

        <!-- Sección 2: Expansión del Lenguaje -->
        <div class="content-section" data-section="2">
            <h2 class="section-title">
                <span>📈</span>
                Técnica 2: EXPANSIÓN - Agregar Más Información
            </h2>
            
            <div class="alert alert-info">
                <strong>💡 ¿Qué es?</strong> Cuando tu hijo dice algo simple, tú agregas más palabras para hacer la oración más completa. Es como construir sobre lo que dice, agregando detalles importantes.
            </div>

            <div class="technique-card">
                <h3>📚 Cómo Aplicar la Expansión</h3>
                <p>Toma lo que dice tu hijo y agrégale información relevante: colores, tamaños, acciones, lugares, emociones.</p>
                
                <!-- Ejemplos por edad para 3 años -->
                <div class="age-specific-examples" id="expansion-age-3">
                    <h4>👶 Para 3 años - Expansión Simple (agregar 2-3 palabras):</h4>
                    <div class="example-box">
                        <strong>Ejemplo 1 - Objetos:</strong><br>
                        👶 Niño: "Pelota"<br>
                        👩 Tú: "Sí, la pelota roja grande"<br>
                        💡 Agregaste: color y tamaño<br><br>
                        
                        <strong>Ejemplo 2 - Acciones:</strong><br>
                        👶 Niño: "Papá fue"<br>
                        👩 Tú: "Papá fue al trabajo en su carro"<br>
                        💡 Agregaste: lugar y medio de transporte<br><br>
                        
                        <strong>Ejemplo 3 - Comida:</strong><br>
                        👶 Niño: "Quiero pan"<br>
                        👩 Tú: "Quieres pan tostado con mantequilla"<br>
                        💡 Agregaste: característica y acompañamiento
                    </div>
                </div>

                <!-- Ejemplos por edad para 4 años -->
                <div class="age-specific-examples" id="expansion-age-4">
                    <h4>👦 Para 4 años - Expansión Media (agregar 3-5 palabras):</h4>
                    <div class="example-box">
                        <strong>Ejemplo 1 - Describiendo:</strong><br>
                        👦 Niño: "El perro corre"<br>
                        👩 Tú: "El perro café corre muy rápido en el jardín"<br>
                        💡 Agregaste: color, manera y lugar<br><br>
                        
                        <strong>Ejemplo 2 - Sentimientos:</strong><br>
                        👦 Niño: "Estoy triste"<br>
                        👩 Tú: "Estás triste porque se rompió tu juguete favorito"<br>
                        💡 Agregaste: causa y especificación<br><br>
                        
                        <strong>Ejemplo 3 - Actividades:</strong><br>
                        👦 Niño: "Vamos a jugar"<br>
                        👩 Tú: "Vamos a jugar con los bloques para construir una torre alta"<br>
                        💡 Agregaste: con qué y para qué
                    </div>
                </div>

                <!-- Ejemplos por edad para 5 años -->
                <div class="age-specific-examples" id="expansion-age-5">
                    <h4>👧 Para 5 años - Expansión Compleja (agregar contexto y detalles):</h4>
                    <div class="example-box">
                        <strong>Ejemplo 1 - Narraciones:</strong><br>
                        👧 Niño: "Vi un pájaro en el árbol"<br>
                        👩 Tú: "Viste un pájaro azul cantando en el árbol del parque esta mañana"<br>
                        💡 Agregaste: color, acción, lugar específico y tiempo<br><br>
                        
                        <strong>Ejemplo 2 - Explicaciones:</strong><br>
                        👧 Niño: "Mi amigo lloró"<br>
                        👩 Tú: "Tu amigo Pedro lloró porque se cayó del columpio y se lastimó la rodilla"<br>
                        💡 Agregaste: quién, por qué y consecuencia<br><br>
                        
                        <strong>Ejemplo 3 - Planes:</strong><br>
                        👧 Niño: "Mañana vamos a la playa"<br>
                        👩 Tú: "Mañana temprano vamos a la playa con los abuelos para nadar y hacer castillos de arena"<br>
                        💡 Agregaste: cuándo, con quién y actividades específicas
                    </div>
                </div>
            </div>

            <!-- Test Interactivo de Expansión -->
            <div class="practice-test">
                <h3>🎮 Practica la Expansión - Ejercicio Interactivo</h3>
                
                <div id="expansion-exercise" style="display: none;">
                    <p><strong>Tu hijo dice: "<span id="expansion-child-phrase"></span>"</strong></p>
                    <p>Escribe cómo expandirías esta frase agregando más información:</p>
                    <textarea id="expansion-answer" rows="3" style="width: 100%; padding: 1rem; border: 2px solid #ddd; border-radius: 8px;" 
                        placeholder="Escribe tu expansión aquí..."></textarea>
                    <button class="btn btn-warning" onclick="checkExpansion()">Verificar Mi Respuesta</button>
                    <div class="feedback-box" id="expansion-feedback"></div>
                    <button class="btn" onclick="nextExpansionExercise()">Siguiente Ejercicio →</button>
                </div>
            </div>

            <button class="btn btn-success" onclick="completeSection(2)">✓ He Dominado la Expansión</button>
        </div>

        <!-- Sección 3: Preguntas Abiertas -->
        <div class="content-section" data-section="3">
            <h2 class="section-title">
                <span>❓</span>
                Técnica 3: PREGUNTAS ABIERTAS - Estimular el Pensamiento
            </h2>
            
            <div class="alert alert-info">
                <strong>💡 ¿Qué es?</strong> En lugar de preguntas de SÍ/NO, haces preguntas que requieren que tu hijo piense y use más palabras para responder.
            </div>

            <div class="technique-card">
                <h3>📚 Tipos de Preguntas por Edad</h3>
                
                <!-- Preguntas para 3 años -->
                <div class="age-specific-examples" id="preguntas-age-3">
                    <h4>👶 Preguntas para 3 años (Simples y Concretas):</h4>
                    <div class="example-box">
                        <strong>Durante el juego:</strong><br>
                        ❌ NO: "¿Te gusta este juguete?"<br>
                        ✅ SÍ: "¿Qué estás haciendo con el juguete?"<br><br>
                        
                        <strong>Durante la comida:</strong><br>
                        ❌ NO: "¿Está rica la sopa?"<br>
                        ✅ SÍ: "¿Qué tiene la sopa?"<br><br>
                        
                        <strong>Viendo un libro:</strong><br>
                        ❌ NO: "¿Ves el perro?"<br>
                        ✅ SÍ: "¿Qué está haciendo el perro?"<br><br>
                        
                        <strong>Más ejemplos útiles:</strong><br>
                        • "¿Dónde está...?"<br>
                        • "¿Qué color es...?"<br>
                        • "¿Quién es...?"
                    </div>
                </div>

                <!-- Preguntas para 4 años -->
                <div class="age-specific-examples" id="preguntas-age-4">
                    <h4>👦 Preguntas para 4 años (Descriptivas y de Proceso):</h4>
                    <div class="example-box">
                        <strong>Sobre experiencias:</strong><br>
                        ❌ NO: "¿Te divertiste en el parque?"<br>
                        ✅ SÍ: "¿Qué hiciste en el parque?"<br><br>
                        
                        <strong>Sobre preferencias:</strong><br>
                        ❌ NO: "¿Te gusta este cuento?"<br>
                        ✅ SÍ: "¿Cuál es tu parte favorita del cuento?"<br><br>
                        
                        <strong>Sobre problemas:</strong><br>
                        ❌ NO: "¿Está roto?"<br>
                        ✅ SÍ: "¿Cómo podemos arreglarlo?"<br><br>
                        
                        <strong>Más ejemplos útiles:</strong><br>
                        • "¿Cómo se hace...?"<br>
                        • "¿Para qué sirve...?"<br>
                        • "¿Qué pasó cuando...?"
                    </div>
                </div>

                <!-- Preguntas para 5 años -->
                <div class="age-specific-examples" id="preguntas-age-5">
                    <h4>👧 Preguntas para 5 años (Razonamiento y Predicción):</h4>
                    <div class="example-box">
                        <strong>Sobre causas:</strong><br>
                        ❌ NO: "¿Está llorando el bebé?"<br>
                        ✅ SÍ: "¿Por qué crees que llora el bebé?"<br><br>
                        
                        <strong>Sobre predicciones:</strong><br>
                        ❌ NO: "¿Va a llover?"<br>
                        ✅ SÍ: "¿Qué pasará si llueve?"<br><br>
                        
                        <strong>Sobre soluciones:</strong><br>
                        ❌ NO: "¿Quieres ayuda?"<br>
                        ✅ SÍ: "¿Cómo crees que podríamos resolver esto?"<br><br>
                        
                        <strong>Más ejemplos útiles:</strong><br>
                        • "¿Por qué piensas que...?"<br>
                        • "¿Qué pasaría si...?"<br>
                        • "¿Cómo te sentirías si...?"
                    </div>
                </div>
            </div>

            <button class="btn btn-success" onclick="completeSection(3)">✓ He Dominado las Preguntas Abiertas</button>
        </div>
        <!-- Sección 4: Habla Paralela y Narración -->
        <div class="content-section" data-section="4">
            <h2 class="section-title">
                <span>🎭</span>
                Técnica 4: NARRACIÓN - Hablar Mientras Hacen
            </h2>
            
            <div class="alert alert-info">
                <strong>💡 ¿Qué es?</strong> Narras en voz alta lo que tú haces (auto-conversación) o lo que hace tu hijo (habla paralela). Es como ser un narrador deportivo de la vida diaria.
            </div>

            <div class="technique-card">
                <h3>📚 Cómo Narrar Según la Edad</h3>
                
                <!-- Narración para 3 años -->
                <div class="age-specific-examples" id="narracion-age-3">
                    <h4>👶 Para 3 años - Narración Simple:</h4>
                    <div class="example-box">
                        <strong>🗣️ Narrando lo que HACE TU HIJO:</strong><br>
                        "Estás poniendo el bloque azul arriba. Ahora el rojo. ¡Qué torre tan alta!"<br><br>
                        
                        <strong>💭 Narrando lo que HACES TÚ:</strong><br>
                        "Mamá está cortando la manzana. Corto, corto. Ahora la pongo en el plato."<br><br>
                        
                        <strong>Momentos ideales para narrar:</strong><br>
                        • Vistiéndose: "Primero la camiseta, luego el pantalón"<br>
                        • Bañándose: "El agua está tibia, el jabón hace espuma"<br>
                        • Jugando: "El carro va rápido, ahora se para"
                    </div>
                </div>

                <!-- Narración para 4 años -->
                <div class="age-specific-examples" id="narracion-age-4">
                    <h4>👦 Para 4 años - Narración con Detalles:</h4>
                    <div class="example-box">
                        <strong>🗣️ Narrando actividades del niño:</strong><br>
                        "Estás dibujando un sol amarillo brillante en la esquina. Ahora haces una casa con ventanas cuadradas."<br><br>
                        
                        <strong>💭 Narrando tus actividades:</strong><br>
                        "Voy a preparar tu desayuno favorito. Primero caliento el pan, después unto la mermelada de fresa."<br><br>
                        
                        <strong>Agregando emociones y razones:</strong><br>
                        • "Estás sonriendo porque encontraste tu juguete"<br>
                        • "Guardamos los juguetes para que no se pierdan"<br>
                        • "Caminamos despacio porque el piso está mojado"
                    </div>
                </div>

                <!-- Narración para 5 años -->
                <div class="age-specific-examples" id="narracion-age-5">
                    <h4>👧 Para 5 años - Narración Compleja:</h4>
                    <div class="example-box">
                        <strong>🗣️ Narrando con predicciones:</strong><br>
                        "Estás mezclando los colores. Cuando mezcles azul y amarillo, veremos qué color aparece."<br><br>
                        
                        <strong>💭 Narrando con explicaciones:</strong><br>
                        "Tengo que medir exactamente dos tazas de harina para que el pastel quede esponjoso."<br><br>
                        
                        <strong>Conectando con aprendizajes:</strong><br>
                        • "Esto me recuerda cuando fuimos al zoológico"<br>
                        • "Es igual que en el cuento que leímos ayer"<br>
                        • "Después de esto, haremos lo que planeamos"
                    </div>
                </div>
            </div>

            <button class="btn btn-success" onclick="completeSection(4)">✓ He Dominado la Narración</button>
        </div>

        <!-- Sección 5: Aplicación por Situaciones Diarias -->
        <div class="content-section" data-section="5">
            <h2 class="section-title">
                <span>🏠</span>
                Aplicando las Técnicas en la Vida Diaria
            </h2>

            <div class="tabs">
                <button class="tab active" onclick="showTab('comida')">🍽️ Comidas</button>
                <button class="tab" onclick="showTab('bano')">🛁 Baño</button>
                <button class="tab" onclick="showTab('juego')">🧸 Juego</button>
                <button class="tab" onclick="showTab('carro')">🚗 En el Carro</button>
                <button class="tab" onclick="showTab('dormir')">🌙 Antes de Dormir</button>
            </div>

            <div id="comida" class="tab-content active">
                <h3>🍽️ Durante las Comidas</h3>
                
                <div class="situation-card" onclick="toggleComplete(this)">
                    <h4>Desayuno (5-10 minutos)</h4>
                    <p><strong>Qué hacer:</strong></p>
                    <ul>
                        <li>Nombra cada alimento: "Tienes cereal con leche y plátano cortado"</li>
                        <li>Describe: "La leche está fría, el cereal está crujiente"</li>
                        <li>Pregunta: "¿Qué quieres comer primero?"</li>
                        <li>Expande: Si dice "rico" → "Sí, el cereal con miel está muy rico"</li>
                    </ul>
                    <p style="margin-top: 1rem;"><strong>Meta:</strong> 10 intercambios de palabras durante el desayuno</p>
                </div>

                <div class="situation-card" onclick="toggleComplete(this)">
                    <h4>Preparando la Comida Juntos</h4>
                    <p><strong>Vocabulario a practicar:</strong></p>
                    <ul>
                        <li>Acciones: cortar, mezclar, servir, probar</li>
                        <li>Conceptos: caliente/frío, mucho/poco, lleno/vacío</li>
                        <li>Secuencias: primero, después, al final</li>
                    </ul>
                    <p><strong>Frase ejemplo:</strong> "Primero lavamos las verduras, después las cortamos, al final las cocinamos"</p>
                </div>
            </div>

            <div id="bano" class="tab-content">
                <h3>🛁 Durante el Baño</h3>
                
                <div class="situation-card" onclick="toggleComplete(this)">
                    <h4>Rutina de Baño (10-15 minutos)</h4>
                    <p><strong>Secuencia para narrar:</strong></p>
                    <ol>
                        <li>"Abrimos la llave, sale agua tibia"</li>
                        <li>"El jabón hace burbujas blancas"</li>
                        <li>"Lavamos los brazos, las piernas, la pancita"</li>
                        <li>"El agua se lleva la espuma"</li>
                        <li>"La toalla está suave y seca"</li>
                    </ol>
                    <p><strong>Juego de vocabulario:</strong> Hunde o flota - "El patito flota, la piedra se hunde"</p>
                </div>
            </div>

            <div id="juego" class="tab-content">
                <h3>🧸 Durante el Juego</h3>
                
                <div class="interactive-game">
                    <h4>🎲 Juego: "El Restaurante"</h4>
                    <div class="game-area">
                        <p><strong>Cómo jugar:</strong></p>
                        <ol>
                            <li>Tu hijo es el cliente, tú eres el mesero (o al revés)</li>
                            <li>Usar platos y comida de juguete (o imaginar)</li>
                            <li>Practicar frases completas</li>
                        </ol>
                        
                        <p><strong>Diálogos para practicar:</strong></p>
                        <p>🧑‍🍳 "Buenos días, ¿qué desea comer?"</p>
                        <p>👶 "Quiero pizza y jugo"</p>
                        <p>🧑‍🍳 "¿Quiere pizza grande o pequeña?"</p>
                        <p>👶 "Pizza grande por favor"</p>
                        
                        <button class="btn btn-warning" onclick="showMoreGames()">Ver Más Juegos</button>
                    </div>
                </div>

                <div id="moreGames" style="display: none;">
                    <div class="situation-card" onclick="toggleComplete(this)">
                        <h4>🏥 Juego: "El Doctor"</h4>
                        <p>Vocabulario: duele, medicina, curar, mejor, enfermo, sano</p>
                        <p>Frases: "¿Dónde te duele?" "Necesitas medicina" "Ya te sientes mejor"</p>
                    </div>
                    
                    <div class="situation-card" onclick="toggleComplete(this)">
                        <h4>🏪 Juego: "La Tienda"</h4>
                        <p>Vocabulario: comprar, pagar, caro, barato, dinero, cambio</p>
                        <p>Frases: "¿Cuánto cuesta?" "Son 5 pesos" "Aquí está el cambio"</p>
                    </div>
                </div>
            </div>

            <div id="carro" class="tab-content">
                <h3>🚗 En el Carro</h3>
                
                <div class="situation-card" onclick="toggleComplete(this)">
                    <h4>Juegos de Observación</h4>
                    <p><strong>"Veo, veo":</strong></p>
                    <ul>
                        <li>3 años: "Veo algo rojo" (colores básicos)</li>
                        <li>4 años: "Veo algo que empieza con P" (sonidos iniciales)</li>
                        <li>5 años: "Veo algo que sirve para..." (funciones)</li>
                    </ul>
                    
                    <p><strong>Contar historias:</strong></p>
                    <ul>
                        <li>Sobre lo que ven: "Mira ese perro, ¿a dónde crees que va?"</li>
                        <li>Inventar finales: "¿Y entonces qué pasó?"</li>
                    </ul>
                </div>
            </div>

            <div id="dormir" class="tab-content">
                <h3>🌙 Antes de Dormir</h3>
                
                <div class="situation-card" onclick="toggleComplete(this)">
                    <h4>Rutina de Buenas Noches (10 minutos)</h4>
                    <p><strong>Actividades de lenguaje:</strong></p>
                    <ol>
                        <li><strong>Resumen del día:</strong> "Hoy fuimos al parque, jugamos en los columpios..."</li>
                        <li><strong>Tres cosas buenas:</strong> "Dime 3 cosas que te gustaron hoy"</li>
                        <li><strong>Planes de mañana:</strong> "Mañana vamos a..."</li>
                        <li><strong>Cuento corto:</strong> Leer o inventar una historia</li>
                    </ol>
                    
                    <p><strong>Frases para cerrar:</strong></p>
                    <p>"Que sueñes con..." (dejar que complete)</p>
                    <p>"Mañana será un día..." (dejar que complete)</p>
                </div>
            </div>

            <button class="btn btn-success" onclick="completeSection(5)">✓ Practico en la Vida Diaria</button>
        </div>

        <!-- Sección 6: Recursos y Plan Personal -->
        <div class="content-section" data-section="6">
            <h2 class="section-title">
                <span>📋</span>
                Tu Plan Personal y Recursos
            </h2>

            <div class="resource-box">
                <h3>📝 Guía Rápida de Referencia</h3>
                <button class="btn btn-warning" onclick="showQuickGuide()">Ver Guía Rápida</button>
                <div id="quickGuide" style="display: none;">
                    <div class="resource-content">
GUÍA RÁPIDA - TÉCNICAS DE ESTIMULACIÓN

1. MODELADO (Corregir sin corregir)
   Niño: "Yo quelo agua"
   Tú: "Ah, quieres agua fría"

2. EXPANSIÓN (Agregar información)
   Niño: "Perro"
   Tú: "El perro café está corriendo"

3. PREGUNTAS ABIERTAS
   NO: "¿Te gustó?"
   SÍ: "¿Qué fue lo que más te gustó?"

4. NARRACIÓN
   "Estás construyendo una torre alta"
   "Mamá está cocinando la cena"

RECORDATORIOS:
✓ No corrijas directamente
✓ Sé paciente, espera respuesta
✓ Celebra cada intento
✓ 10 minutos diarios marcan la diferencia
                    </div>
                </div>
            </div>

            <div class="resource-box">
                <h3>🎯 Mi Plan Semanal</h3>
                <p>Marca tu compromiso de práctica:</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div style="text-align: center;">
                        <input type="checkbox" id="lunes" onchange="updateWeeklyPlan()">
                        <label for="lunes">Lunes</label>
                    </div>
                    <div style="text-align: center;">
                        <input type="checkbox" id="martes" onchange="updateWeeklyPlan()">
                        <label for="martes">Martes</label>
                    </div>
                    <div style="text-align: center;">
                        <input type="checkbox" id="miercoles" onchange="updateWeeklyPlan()">
                        <label for="miercoles">Miércoles</label>
                    </div>
                    <div style="text-align: center;">
                        <input type="checkbox" id="jueves" onchange="updateWeeklyPlan()">
                        <label for="jueves">Jueves</label>
                    </div>
                    <div style="text-align: center;">
                        <input type="checkbox" id="viernes" onchange="updateWeeklyPlan()">
                        <label for="viernes">Viernes</label>
                    </div>
                    <div style="text-align: center;">
                        <input type="checkbox" id="sabado" onchange="updateWeeklyPlan()">
                        <label for="sabado">Sábado</label>
                    </div>
                    <div style="text-align: center;">
                        <input type="checkbox" id="domingo" onchange="updateWeeklyPlan()">
                        <label for="domingo">Domingo</label>
                    </div>
                </div>
                
                <div id="weeklyCommitment" class="alert alert-info" style="display: none;">
                    Te comprometes a practicar <span id="daysCount">0</span> días a la semana
                </div>
            </div>

            <div class="resource-box">
                <h3>📊 Lista de Canciones y Rimas</h3>
                <button class="btn btn-warning" onclick="showSongs()">Ver Canciones</button>
                <div id="songsResources" style="display: none;">
                    <div class="resource-content">
CANCIONES PARA ESTIMULAR EL LENGUAJE

🎵 Para 3 años:
"Los pollitos dicen"
- Vocabulario: pío, hambre, frío, abrigo, comida
- Práctica: sonidos, necesidades básicas

"Pin pon es un muñeco"
- Vocabulario: cara, limpia, jabón, peine
- Práctica: partes del cuerpo, rutinas

🎵 Para 4 años:
"La vaca lechera"
- Vocabulario: vaca, leche, tolón, campana
- Práctica: rimas, sonidos finales

"Soy una taza"
- Vocabulario: utensilios de cocina
- Práctica: movimientos y objetos

🎵 Para 5 años:
"Debajo de un botón"
- Vocabulario: botón, ratón, Martín
- Práctica: secuencias, memoria

RIMAS PARA PRACTICAR:
- Sol - caracol
- Luna - cuna
- Gato - pato
- Casa - pasa
                    </div>
                </div>
            </div>

            <button class="btn btn-success" onclick="completeSection(6)">✓ Tengo Mi Plan Personal</button>
        </div>

        <!-- Navigation -->
        <div class="module-navigation">
            <a href="../modulo1/index.html" class="btn btn-secondary">← Módulo 1</a>
            <div>
                <button class="btn" onclick="generateCertificate()" id="certificateBtn" style="display: none;">🏆 Certificado</button>
                <a href="../modulo3/index.html" class="btn" id="nextModuleBtn" style="display: none;">Módulo 3 →</a>
            </div>
        </div>
    </div>
    <script>
        // Variables globales
        let completedSections = new Set();
        let totalSections = 6;
        let selectedAge = null;
        let currentModeladoQuestion = 0;
        let currentExpansionExercise = 0;
        let techniquesCompleted = new Set();
        let situationsCompleted = new Set();

        // Arrays de ejercicios
        const expansionExercises = {
            3: [
                { phrase: "Agua", hint: "Agrega temperatura o cantidad" },
                { phrase: "Mamá fue", hint: "Agrega lugar" },
                { phrase: "Quiero jugar", hint: "Agrega con qué o con quién" },
                { phrase: "Mi carro", hint: "Agrega color o tamaño" },
                { phrase: "Tengo hambre", hint: "Agrega qué quiere comer" }
            ],
            4: [
                { phrase: "El gato duerme", hint: "Agrega dónde y cómo" },
                { phrase: "Estoy feliz", hint: "Agrega por qué" },
                { phrase: "Vamos al parque", hint: "Agrega con quién y cuándo" },
                { phrase: "Mi juguete", hint: "Agrega cuál y descripción" },
                { phrase: "Comí pizza", hint: "Agrega cuándo y con qué" }
            ],
            5: [
                { phrase: "Ayer fuimos", hint: "Agrega lugar, con quién y qué hicieron" },
                { phrase: "Mi amigo está triste", hint: "Agrega quién es y por qué" },
                { phrase: "Cuando sea grande", hint: "Agrega qué quiere ser y por qué" },
                { phrase: "En la escuela", hint: "Agrega qué hace y con quién juega" },
                { phrase: "Me gusta leer", hint: "Agrega qué tipo de libros y cuándo" }
            ]
        };

        // Respuestas correctas para el test de modelado
        const modeladoAnswers = {
            1: 'b', // 3 años
            2: 'a', // 4 años
            3: 'b'  // 5 años
        };

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            checkModuleAccess();
            loadSavedProgress();
            
            // Mensaje inicial
            if (!selectedAge) {
                showNotification('👆 Primero selecciona la edad de tu hijo en la parte superior', 'info');
            }
        });

        // Verificar acceso al módulo
        function checkModuleAccess() {
            const courseProgress = JSON.parse(localStorage.getItem('courseProgress') || '[false,false,false,false,false]');
            if (!courseProgress[0]) {
                alert('⚠️ Debes completar el Módulo 1 primero');
                window.location.href = '../modulo1/index.html';
            }
        }

        // Selección de edad
        function selectAge(age) {
            selectedAge = age;
            
            // Actualizar botones de edad
            document.querySelectorAll('.age-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Mostrar mensaje
            document.getElementById('ageMessage').style.display = 'block';
            document.getElementById('selectedAge').textContent = age;
            
            // Actualizar todos los ejemplos según la edad
            updateAgeContent();
            
            // Guardar edad seleccionada
            localStorage.setItem('module2SelectedAge', age);
            
            showNotification(`✅ Contenido adaptado para ${age} años`, 'success');
        }

        // Actualizar contenido según edad
        function updateAgeContent() {
            if (!selectedAge) return;
            
            // Ocultar todos los ejemplos
            document.querySelectorAll('.age-specific-examples').forEach(elem => {
                elem.style.display = 'none';
            });
            
            // Mostrar ejemplos de la edad seleccionada
            document.querySelectorAll(`[id$="-age-${selectedAge}"]`).forEach(elem => {
                elem.style.display = 'block';
                elem.classList.add('active');
            });
            
            // Actualizar tests según edad
            updateTests();
        }

        // Actualizar tests según edad
        function updateTests() {
            // Ocultar todos los tests
            document.querySelectorAll('[id^="modelado-test-age-"]').forEach(elem => {
                elem.style.display = 'none';
            });
            
            // Mostrar test de la edad seleccionada
            const ageTest = document.getElementById(`modelado-test-age-${selectedAge}`);
            if (ageTest) {
                ageTest.style.display = 'block';
            }
            
            // Actualizar ejercicio de expansión
            const exerciseDiv = document.getElementById('expansion-exercise');
            if (exerciseDiv && selectedAge) {
                exerciseDiv.style.display = 'block';
                loadExpansionExercise();
            }
        }

        // Check respuesta del test de modelado
        function checkAnswer(technique, questionNum, answer) {
            if (!selectedAge) {
                showNotification('Primero selecciona la edad de tu hijo', 'warning');
                return;
            }
            
            const feedbackDiv = document.getElementById(`${technique}-feedback-${questionNum}`);
            const options = event.target.parentElement.querySelectorAll('.test-option');
            
            // Limpiar selecciones previas
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Marcar la opción seleccionada
            event.target.classList.add('selected');
            
            if (answer === modeladoAnswers[questionNum]) {
                event.target.classList.add('correct');
                feedbackDiv.className = 'feedback-box feedback-correct show';
                feedbackDiv.innerHTML = '✅ ¡Correcto! Usaste el modelado perfectamente. No corregiste directamente, sino que repetiste la forma correcta de manera natural.';
                
                // Marcar técnica como completada
                techniquesCompleted.add('modelado');
                updateAchievements();
            } else {
                event.target.classList.add('incorrect');
                feedbackDiv.className = 'feedback-box feedback-incorrect show';
                
                if (answer === 'a' && questionNum === 1) {
                    feedbackDiv.innerHTML = '❌ Esta respuesta corrige directamente al niño. El modelado consiste en repetir correctamente sin decir "no se dice así".';
                } else if (answer === 'c') {
                    feedbackDiv.innerHTML = '❌ Repetir el error no ayuda. Debes modelar la forma correcta.';
                } else {
                    feedbackDiv.innerHTML = '❌ Recuerda: el modelado repite correctamente sin corregir directamente.';
                }
            }
        }

        // Siguiente pregunta de modelado
        function nextModeladoQuestion() {
            if (!selectedAge) {
                showNotification('Primero selecciona la edad de tu hijo', 'warning');
                return;
            }
            
            currentModeladoQuestion++;
            if (currentModeladoQuestion > 2) {
                showNotification('¡Has completado todos los ejercicios de modelado!', 'success');
                currentModeladoQuestion = 0;
            }
            
            // Aquí podrías rotar entre diferentes preguntas
            updateTests();
        }

        // Cargar ejercicio de expansión
        function loadExpansionExercise() {
            if (!selectedAge) return;
            
            const exercises = expansionExercises[selectedAge];
            if (!exercises) return;
            
            const exercise = exercises[currentExpansionExercise % exercises.length];
            document.getElementById('expansion-child-phrase').textContent = exercise.phrase;
            document.getElementById('expansion-answer').value = '';
            document.getElementById('expansion-answer').placeholder = `Pista: ${exercise.hint}`;
            document.getElementById('expansion-feedback').style.display = 'none';
        }

        // Verificar expansión
        function checkExpansion() {
            const answer = document.getElementById('expansion-answer').value.trim();
            const feedbackDiv = document.getElementById('expansion-feedback');
            
            if (!answer) {
                showNotification('Escribe tu expansión primero', 'warning');
                return;
            }
            
            const exercise = expansionExercises[selectedAge][currentExpansionExercise % expansionExercises[selectedAge].length];
            const originalWords = exercise.phrase.split(' ').length;
            const expandedWords = answer.split(' ').length;
            
            feedbackDiv.style.display = 'block';
            feedbackDiv.className = 'feedback-box show';
            
            if (expandedWords > originalWords + 1) {
                feedbackDiv.className += ' feedback-correct';
                feedbackDiv.innerHTML = `✅ ¡Excelente expansión! Agregaste ${expandedWords - originalWords} palabras más. Tu respuesta: "${answer}" enriquece significativamente la frase original.`;
                
                techniquesCompleted.add('expansion');
                updateAchievements();
            } else {
                feedbackDiv.className += ' feedback-incorrect';
                feedbackDiv.innerHTML = `⚠️ Intenta agregar más información. La expansión debe enriquecer la frase original. ${exercise.hint}`;
            }
        }

        // Siguiente ejercicio de expansión
        function nextExpansionExercise() {
            currentExpansionExercise++;
            loadExpansionExercise();
            showNotification('Nuevo ejercicio cargado', 'info');
        }

        // Mostrar/ocultar tabs
        function showTab(tabName) {
            // Ocultar todos los contenidos
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Desactivar todos los tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Activar el tab seleccionado
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Toggle situación completada
        function toggleComplete(card) {
            card.classList.toggle('completed');
            
            if (card.classList.contains('completed')) {
                situationsCompleted.add(card.querySelector('h4').textContent);
                showNotification('✅ Situación practicada', 'success');
            } else {
                situationsCompleted.delete(card.querySelector('h4').textContent);
            }
            
            updateAchievements();
        }

        // Mostrar más juegos
        function showMoreGames() {
            const moreGames = document.getElementById('moreGames');
            if (moreGames.style.display === 'none') {
                moreGames.style.display = 'block';
                event.target.textContent = 'Ocultar Juegos';
            } else {
                moreGames.style.display = 'none';
                event.target.textContent = 'Ver Más Juegos';
            }
        }

        // Mostrar guía rápida
        function showQuickGuide() {
            const guide = document.getElementById('quickGuide');
            if (guide.style.display === 'none') {
                guide.style.display = 'block';
                event.target.textContent = 'Ocultar Guía';
            } else {
                guide.style.display = 'none';
                event.target.textContent = 'Ver Guía Rápida';
            }
        }

        // Mostrar canciones
        function showSongs() {
            const songs = document.getElementById('songsResources');
            if (songs.style.display === 'none') {
                songs.style.display = 'block';
                event.target.textContent = 'Ocultar Canciones';
            } else {
                songs.style.display = 'none';
                event.target.textContent = 'Ver Canciones';
            }
        }

        // Actualizar plan semanal
        function updateWeeklyPlan() {
            const days = ['lunes', 'martes', 'miercoles', 'jueves', 'viernes', 'sabado', 'domingo'];
            let checkedDays = 0;
            
            days.forEach(day => {
                if (document.getElementById(day).checked) {
                    checkedDays++;
                }
            });
            
            if (checkedDays > 0) {
                document.getElementById('weeklyCommitment').style.display = 'block';
                document.getElementById('daysCount').textContent = checkedDays;
                
                if (checkedDays >= 5) {
                    showNotification('🌟 ¡Excelente compromiso! Practicar 5+ días a la semana acelera el progreso', 'success');
                }
            } else {
                document.getElementById('weeklyCommitment').style.display = 'none';
            }
            
            // Guardar plan
            const weeklyPlan = {
                days: checkedDays,
                selected: days.filter(day => document.getElementById(day).checked)
            };
            localStorage.setItem('module2WeeklyPlan', JSON.stringify(weeklyPlan));
        }

        // Completar sección
        function completeSection(sectionNumber) {
            if (!selectedAge) {
                showNotification('⚠️ Primero selecciona la edad de tu hijo', 'warning');
                return;
            }
            
            completedSections.add(sectionNumber);
            updateProgressBar();
            saveProgress();
            
            // Marcar visualmente
            const section = document.querySelector(`[data-section="${sectionNumber}"]`);
            if (section) {
                section.style.border = '3px solid #28a745';
                section.style.background = 'linear-gradient(to right, #d4edda 0%, white 5%)';
            }
            
            showNotification(`✅ Sección ${sectionNumber} completada`, 'success');
            
            if (completedSections.size === totalSections) {
                completeModule();
            }
        }

        // Actualizar barra de progreso
        function updateProgressBar() {
            const progress = (completedSections.size / totalSections) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = Math.round(progress) + '% completado';
            document.getElementById('completedSections').textContent = `${completedSections.size} de ${totalSections} secciones`;
        }

        // Actualizar achievements
        function updateAchievements() {
            if (techniquesCompleted.size >= 1) {
                document.getElementById('badge1').classList.add('unlocked');
            }
            if (techniquesCompleted.size >= 3) {
                document.getElementById('badge2').classList.add('unlocked');
            }
            if (techniquesCompleted.size >= 4) {
                document.getElementById('badge3').classList.add('unlocked');
            }
            if (completedSections.size === totalSections) {
                document.getElementById('badge4').classList.add('unlocked');
            }
        }

        // Completar módulo
        function completeModule() {
            // Mostrar botones de navegación
            document.getElementById('certificateBtn').style.display = 'inline-block';
            document.getElementById('nextModuleBtn').style.display = 'inline-block';
            
            // Actualizar progreso del curso
            let courseProgress = JSON.parse(localStorage.getItem('courseProgress') || '[false,false,false,false,false]');
            courseProgress[1] = true;
            localStorage.setItem('courseProgress', JSON.stringify(courseProgress));
            
            showNotification('🎉 ¡FELICITACIONES! Has completado el Módulo 2', 'success');
            
            setTimeout(() => {
                alert('🏆 ¡Módulo 2 Completado!\n\n' +
                      '✅ Dominas 4 técnicas fundamentales\n' +
                      '✅ Sabes aplicarlas en situaciones diarias\n' +
                      '✅ Tienes tu plan personal\n\n' +
                      '¡Continúa al Módulo 3!');
            }, 1000);
        }

        // Generar certificado
        function generateCertificate() {
            const userName = prompt('¿Cuál es tu nombre para el certificado?') || 'Estudiante';
            
            const certificate = `
╔════════════════════════════════════════════════════╗
║                                                    ║
║         🏆 CERTIFICADO DE COMPLETACIÓN 🏆          ║
║                                                    ║
║         Academia de Psicología Infantil           ║
║                                                    ║
╠════════════════════════════════════════════════════╣
║                                                    ║
║  Certificamos que:                                 ║
║                                                    ║
║            ${userName.toUpperCase()}               ║
║                                                    ║
║  Ha completado exitosamente el MÓDULO 2:          ║
║                                                    ║
║      "Técnicas Prácticas de Estimulación"         ║
║                                                    ║
║  Competencias Adquiridas:                         ║
║  ✅ Modelado lingüístico                          ║
║  ✅ Expansión del lenguaje                        ║
║  ✅ Preguntas abiertas                            ║
║  ✅ Narración paralela                            ║
║  ✅ Aplicación en vida diaria                     ║
║                                                    ║
║  Edad de aplicación: ${selectedAge || 'No especificada'} años     ║
║                                                    ║
║  Fecha: ${new Date().toLocaleDateString('es-ES')} ║
║                                                    ║
╚════════════════════════════════════════════════════╝
            `;
            
            const blob = new Blob([certificate], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Certificado_Modulo2_${userName.replace(/\s/g, '_')}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('🎉 Certificado descargado', 'success');
        }

        // Mostrar progreso
        function showProgress() {
            const progress = (completedSections.size / totalSections) * 100;
            
            alert(`📊 TU PROGRESO EN MÓDULO 2:\n\n` +
                  `📈 Progreso: ${Math.round(progress)}%\n` +
                  `📚 Secciones: ${completedSections.size} de ${totalSections}\n` +
                  `🎯 Técnicas practicadas: ${techniquesCompleted.size} de 4\n` +
                  `🏠 Situaciones practicadas: ${situationsCompleted.size}\n` +
                  `👶 Edad seleccionada: ${selectedAge || 'No seleccionada'} años\n\n` +
                  `${progress === 100 ? '🎉 ¡MÓDULO COMPLETADO!' : '💪 ¡Sigue practicando!'}`);
        }

        // Guardar progreso
        function saveProgress() {
            const progress = {
                completedSections: Array.from(completedSections),
                selectedAge: selectedAge,
                techniquesCompleted: Array.from(techniquesCompleted),
                situationsCompleted: Array.from(situationsCompleted),
                lastAccess: new Date().toISOString()
            };
            localStorage.setItem('module2Progress', JSON.stringify(progress));
        }

        // Cargar progreso guardado
        function loadSavedProgress() {
            const saved = localStorage.getItem('module2Progress');
            if (saved) {
                const progress = JSON.parse(saved);
                
                // Restaurar secciones completadas
                if (progress.completedSections) {
                    progress.completedSections.forEach(section => {
                        completedSections.add(section);
                        const sectionElem = document.querySelector(`[data-section="${section}"]`);
                        if (sectionElem) {
                            sectionElem.style.border = '3px solid #28a745';
                            sectionElem.style.background = 'linear-gradient(to right, #d4edda 0%, white 5%)';
                        }
                    });
                }
                
                // Restaurar edad seleccionada
                if (progress.selectedAge) {
                    selectedAge = progress.selectedAge;
                    document.querySelectorAll('.age-btn').forEach(btn => {
                        if (btn.textContent.includes(selectedAge)) {
                            btn.classList.add('active');
                        }
                    });
                    updateAgeContent();
                }
                
                // Restaurar técnicas y situaciones
                if (progress.techniquesCompleted) {
                    progress.techniquesCompleted.forEach(tech => techniquesCompleted.add(tech));
                }
                if (progress.situationsCompleted) {
                    progress.situationsCompleted.forEach(sit => situationsCompleted.add(sit));
                }
                
                updateProgressBar();
                updateAchievements();
            }
            
            // Cargar plan semanal
            const weeklyPlan = localStorage.getItem('module2WeeklyPlan');
            if (weeklyPlan) {
                const plan = JSON.parse(weeklyPlan);
                plan.selected.forEach(day => {
                    document.getElementById(day).checked = true;
                });
                updateWeeklyPlan();
            }
        }

        // Logout
        function logout() {
            if (confirm('¿Estás seguro que quieres salir? Tu progreso se guardará automáticamente.')) {
                saveProgress();
                window.location.href = '../index.html';
            }
        }

        // Notificaciones
        function showNotification(message, type) {
            // Crear elemento de notificación
            const notification = document.createElement('div');
            notification.className = `alert alert-${type === 'success' ? 'success' : type === 'warning' ? 'warning' : 'info'}`;
            notification.style.cssText = 'position: fixed; top: 80px; right: 20px; z-index: 9999; min-width: 300px; animation: slideIn 0.3s ease;';
            notification.innerHTML = message;
            document.body.appendChild(notification);
            
            // Remover después de 3 segundos
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Animaciones CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        console.log('🎯 Módulo 2: Técnicas Prácticas para Padres cargado correctamente');
        console.log('📚 Recuerda seleccionar la edad de tu hijo para ver contenido personalizado');
    </script>
</body>
</html>
